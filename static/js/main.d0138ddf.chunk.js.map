{"version":3,"sources":["LearnUseState.tsx","LearnUseReducer.tsx","LearnUseContext.tsx","LearnUseEffect.tsx","LearnUseMemo.tsx","LearnUseRef.tsx","LearnUseImperativeHandle.tsx","LearnCustomizeHook.tsx","App.tsx","index.tsx"],"names":["LearnUseState","useState","x","setX","y","setY","name","age","obj","setObj","console","log","onlyRunAtFirstTime","change","onClick","prevX","JSON","stringify","initState","reducer","state","action","type","user","Error","LearnUseReducer","useReducer","dispatch","initTheme","success","Context","createContext","Child","theme","useContext","GrandChild","LearnUseContext","Provider","value","LearnUseEffect","movies","setMovies","useEffect","callback","newMovies","setTimeout","id","length","map","m","key","Child2","React","Child3","props","onChild3Click","Child4","LearnUseMemo","onMemoClick","useMemo","OKButton","ref","className","LearnUseRef","useRef","myButton","current","useImperativeHandle","LearnUseImperativeHandle","LearnCustomizeHook","books","initBooks","setBooks","getBooks","addBooks","newBook","editBooks","deleteBooks","useBooks","b","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d0138ddf.chunk.js","sourcesContent":["import * as React from 'react'\nimport {useState} from 'react'\n\nconst LearnUseState: React.FC = () => {\n  const [x, setX] = useState(0)\n  const [y, setY] = useState(100)\n  const [obj, setObj] = useState({name: 'Jack', age: 18})\n  const [onlyRunAtFirstTime, change] = useState(() => {\n    console.log('只在第一次渲染时执行，这里可以假设 9 + 9 是一些复杂的操作')\n\n    return {name: 'Jack', age: 9 + 9}\n  })\n\n  const onClickX = () => setX(x + 1)\n  const onClickY = () => setY((prevX) => prevX + 1)\n  const onClickObj = () => setObj({\n    ...obj,\n    age: obj.age + 1\n  })\n  const onClickFirst = () => change({...onlyRunAtFirstTime})\n\n  return (\n    <div>\n      <h1>useState</h1>\n      <button onClick={onClickX}>x + 1</button>\n      <p>x: {x}</p>\n\n      <button onClick={onClickY}>y + 1</button>\n      <p>y: {y}</p>\n\n      <button onClick={onClickObj}>age + 1</button>\n      <p>{JSON.stringify(obj)}</p>\n\n      <button onClick={onClickFirst}>只有在第一次</button>\n    </div>\n  )\n}\n\nexport default LearnUseState\n","import * as React from 'react'\nimport {useReducer} from 'react'\n\ntype TState = {\n  name: string\n  age: number\n}\n\ntype TAction = {\n  type: string\n  user?: TState\n}\n\nconst initState: TState = {\n  name: 'Jack',\n  age: 18\n}\n\nconst reducer = (state: TState, action: TAction) => {\n  const {type} = action\n\n  switch (type) {\n    case 'addAge':\n      return {...state, age: state.age + 1}\n    case 'minusAge':\n      return {...state, age: state.age - 1}\n    case 'update':\n      return {...state, ...action.user}\n    default:\n      throw new Error('没有传入 type')\n  }\n}\n\nconst LearnUseReducer: React.FC = () => {\n  const [state, dispatch] = useReducer(reducer, initState)\n\n  const onAdd = () => dispatch({type: 'addAge'})\n  const onMinus = () => dispatch({type: 'minusAge'})\n  const onUpdate = () => dispatch({type: 'update', user: {name: 'Tom', age: 20}})\n\n  return (\n    <div>\n      <h1>useReducer</h1>\n      <button onClick={onAdd}>age + 1</button>\n      <button onClick={onMinus}>age - 1</button>\n      <button onClick={onUpdate}>更新整个user</button>\n      <p>{JSON.stringify(state)}</p>\n    </div>\n  )\n}\n\nexport default LearnUseReducer\n","import * as React from 'react'\nimport {createContext, useContext, useState} from 'react'\n\ntype TTheme = {\n  success: string\n}\n\nconst initTheme = {\n  success: 'green'\n}\n\nconst Context = createContext<TTheme | null>(null)\n\nconst LearnUseContext: React.FC = () => {\n  const [theme] = useState(initTheme)\n\n  return (\n    <Context.Provider value={theme}>\n      <h1>useContext</h1>\n      <div>\n        爸爸得到的值: {theme.success}\n        <Child/>\n      </div>\n    </Context.Provider>\n  )\n}\n\nconst Child: React.FC = () => {\n  const theme = useContext(Context)\n\n  return (\n    <div>\n      儿子得到的值: {theme!.success}\n      <GrandChild/>\n    </div>\n  )\n}\n\nconst GrandChild: React.FC = () => {\n  const theme = useContext(Context)\n\n  return (\n    <div>孙子得到的值: {theme?.success}</div>\n  )\n}\n\nexport default LearnUseContext\n","import * as React from 'react'\nimport {useEffect, useState} from 'react'\n\nconst ajax = (name: string, callback: Function) => {\n  setTimeout(() => {\n    callback([\n      {id: 1, name: '钢铁侠'},\n      {id: 2, name: '蜘蛛侠'},\n      {id: 3, name: '复联'},\n    ])\n  }, 2000)\n}\n\nconst LearnUseEffect: React.FC = () => {\n  const [movies, setMovies] = useState<any[]>([])\n\n  useEffect(() => { // 对应 componentDidMount\n    console.log('刚开始就执行，要在这里去获取 movies')\n\n    ajax('movies', (newMovies: any[]) => setMovies(newMovies))\n  }, [])\n  useEffect(() => { // 对应 componentDidUpdate\n    console.log('只要有东西更新了，我就执行')\n  })\n  useEffect(() => { // 对应 componentDidUpdate，但是只有 movies 更新才执行\n    console.log('movies 更新了，所以我执行了')\n  }, [movies])\n\n  return (\n    <div>\n      <h1>useEffect</h1>\n      {\n        movies.length === 0 ?\n          <div>加载中</div> :\n          <ul>\n            {movies.map(m => <li key={m.id}>{m.name}</li>)}\n          </ul>\n      }\n    </div>\n  )\n}\n\nexport default LearnUseEffect\n","import * as React from 'react'\nimport {useMemo, useState} from 'react'\n\nconst LearnUseMemo: React.FC = () => {\n  const [x, setX] = useState(0)\n\n  const onClickX = () => setX(x + 1)\n\n  const onChild3Click = () => {}\n\n  const onMemoClick = useMemo(() => {\n    return () => console.log(\"点击了\")\n  }, [])\n\n  return (\n    <div>\n      <h1>useMemo</h1>\n      <button onClick={onClickX}>x + 1</button>\n      <Child/>\n      <Child2/>\n      <Child3 onChild3Click={onChild3Click}/>\n      <Child4 onChild3Click={onMemoClick}/>\n    </div>\n  )\n}\n\nconst Child: React.FC = () => {\n  console.log('我是儿子，为什么要搞我')\n\n  return <div>我是儿子，别搞我</div>\n}\n\nconst Child2 = React.memo(() => {\n  console.log('我是儿子2，别想搞我')\n\n  return <div>我是儿子2，别搞我</div>\n})\n\nconst Child3 = React.memo((props: any) => {\n  console.log('我是儿子3，用了 memo 还能搞到我？')\n\n  return <div onClick={props.onChild3Click}>我是儿子3，用了 memo 还能搞到我？</div>\n})\n\nconst Child4 = React.memo((props: any) => {\n  console.log('我是儿子4，用了 useMemo 终于搞不了我了')\n\n  return <div onClick={props.onChild3Click}>我是儿子4，用了 useMemo 终于搞不了我了？</div>\n})\n\nexport default LearnUseMemo\n","import * as React from 'react'\nimport {useEffect, useRef, useState} from 'react'\n\nconst LearnUseRef: React.FC = () => {\n  const [x, setX] = useState(0)\n  const y = useRef(0)\n\n  const myButton = useRef(null)\n\n  useEffect(() => {\n    y.current += 1\n  }, [])\n\n  const changeX = () => setX(x + 1)\n  const changeY = () => y.current += 1\n\n  return (\n    <div>\n      <h1>useRef</h1>\n      <button onClick={changeX}>x + 1</button>\n      <button onClick={changeY}>y + 1</button>\n      <div>x 的值 {x}</div>\n      <div>y 的值 {y.current}</div>\n\n      <OKButton ref={myButton}/>\n    </div>\n  )\n}\n\nconst Button = (props: any, ref: any) => {\n  return <button className=\"red\" ref={ref}>用作 ref 的按钮</button>\n}\n\nconst OKButton = React.forwardRef(Button)\n\nexport default LearnUseRef\n","import * as React from 'react'\nimport {useEffect, useImperativeHandle, useRef} from 'react'\n\nconst LearnUseImperativeHandle: React.FC = () => {\n  const myButton = useRef(null)\n\n  useEffect(() => {\n    console.log('有人改了我的 ref', myButton)\n  })\n\n  return (\n    <div>\n      <OKButton ref={myButton}/>\n    </div>\n  )\n}\n\nconst OKButton = React.forwardRef((props: any, ref: any) => {\n  useImperativeHandle(ref, () => {\n    return {\n      x: 'hello'\n    }\n  })\n  return <button>按钮</button>\n})\n\nexport default LearnUseImperativeHandle\n","import * as React from 'react'\nimport {useEffect, useState} from 'react'\n\ntype TBook = {\n  id: string\n  name: string\n}\n\nconst useBooks = (initBooks: TBook[]) => {\n  const [books, setBooks] = useState(initBooks)\n\n  useEffect(() => {\n    getBooks()\n  }, [])\n\n  const getBooks = () => {\n    setTimeout(() => {\n      setBooks([\n        {id: '1', name: '一体'},\n        {id: '2', name: '二体'},\n        {id: '3', name: '三体'},\n        {id: '4', name: '裸体'},\n      ])\n    }, 2000)\n  }\n  const addBooks = (newBook: TBook) => {\n    setBooks([...books, newBook])\n  }\n  const editBooks = () => {/* put /books?id=xxx */}\n  const deleteBooks = () => {/* delete /books?id=xxx */}\n\n  return {\n    books,\n    getBooks,\n    addBooks,\n    editBooks,\n    deleteBooks\n  }\n}\n\nconst LearnCustomizeHook: React.FC = () => {\n  const {books} = useBooks([])\n\n  return (\n    <div>\n      <h1>useBooks</h1>\n      {\n        books.length === 0?\n          <div>加载中</div> :\n          <ul>\n            {\n              books.map(b => <li key={b.id}>{b.name}</li>)\n            }\n          </ul>\n      }\n    </div>\n  )\n}\n\nexport default LearnCustomizeHook\n","import React from 'react'\nimport LearnUseState from './LearnUseState'\nimport LearnUseReducer from './LearnUseReducer'\nimport LearnUseContext from './LearnUseContext'\nimport LearnUseEffect from './LearnUseEffect'\nimport LearnUseMemo from './LearnUseMemo'\nimport LearnUseRef from './LearnUseRef'\nimport LearnUseImperativeHandle from './LearnUseImperativeHandle'\nimport LearnCustomizeHook from './LearnCustomizeHook'\n\nfunction App() {\n  return (\n    <div>\n      <LearnUseState/>\n      <hr/>\n      <LearnUseReducer/>\n      <hr/>\n      <LearnUseContext/>\n      <hr/>\n      <LearnUseEffect/>\n      <hr/>\n      <LearnUseMemo/>\n      <hr/>\n      <LearnUseRef/>\n      <hr/>\n      <LearnUseImperativeHandle/>\n      <hr/>\n      <LearnCustomizeHook/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App/>, document.getElementById('root'))\n"],"sourceRoot":""}